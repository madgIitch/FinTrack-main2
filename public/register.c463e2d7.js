import"./FinTrack-main.401b9eb7.js";var e=globalThis,t={},r={},o=e.parcelRequire94c2;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in r){var o=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},e.parcelRequire94c2=o),o.register;var a=o("gEjZb"),n=o("6AR8M"),i=o("ilpIi");document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("register-form"),t=Array.from(document.querySelectorAll(".step")),r=document.querySelectorAll(".next-step"),o=document.getElementById("email"),l=document.getElementById("password"),c=document.getElementById("confirm-password"),d=document.querySelectorAll(".visibility-icon"),s=document.getElementById("email-exists-alert"),u="",m=document.getElementById("progress-bar");function v(e){let r=t.length;m.style.width=`${(e+1)/r*100}%`}function E(e){t.forEach((t,r)=>{t.classList.remove("active"),r===e&&t.classList.add("active")}),v(e)}v(0),r.forEach(e=>{e.addEventListener("click",()=>{let r=e.dataset.next;r&&E(t.findIndex(e=>e.id===r))})}),document.getElementById("check-email").addEventListener("click",async()=>{let e=o.value;u=e;try{(await (0,n.fetchSignInMethodsForEmail)(a.auth,e)).length>0?s.style.display="block":(s.style.display="none",console.log("Correo disponible."),E(2))}catch(e){console.error("Error al verificar el correo:",e),alert("Error al verificar el correo. Inténtalo de nuevo.")}}),d.forEach(e=>{e.addEventListener("click",()=>{let t=e.previousElementSibling;t.type="password"===t.type?"text":"password",e.textContent="password"===t.type?"visibility":"visibility_off"})}),e.addEventListener("submit",async e=>{e.preventDefault();let t=document.getElementById("nombre").value,r=document.getElementById("apellidos").value,o=l.value;if(o!==c.value){alert("Las contraseñas no coinciden.");return}try{console.log("Enviando correo de verificación...");let e=(await (0,n.createUserWithEmailAndPassword)(a.auth,u,o)).user;console.log("Usuario creado, enviando correo de verificación..."),await (0,n.sendEmailVerification)(e),console.log("Correo de verificación enviado.");let l={email:u,firstName:t,lastName:r},c=(0,i.doc)(a.db,"users",e.uid);await (0,i.setDoc)(c,l),alert("Registro completado. Por favor, verifica tu correo electrónico."),window.location.href="../index.html"}catch(t){console.error("Error durante el registro:",t);let e="Error durante el registro. Inténtalo de nuevo.";alert("auth/email-already-in-use"===t.code?"Este correo electrónico ya está en uso.":"auth/weak-password"===t.code?"La contraseña debe tener al menos 6 caracteres.":"auth/network-request-failed"===t.code?"Error de red. Por favor, inténtalo de nuevo.":t.message)}})});
//# sourceMappingURL=register.c463e2d7.js.map
