import"./FinTrack-main.401b9eb7.js";var e=globalThis,o={},n={},r=e.parcelRequire94c2;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in n){var r=n[e];delete n[e];var t={id:e,exports:{}};return o[e]=t,r.call(t.exports,t,t.exports),t.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,o){n[e]=o},e.parcelRequire94c2=r),r.register;var t=r("gEjZb"),i=r("6AR8M");document.addEventListener("DOMContentLoaded",()=>{console.log("index.js loaded");let e=document.getElementById("login-form"),o=document.getElementById("reset-form"),n=document.getElementById("show-reset-form"),r=document.getElementById("back-to-login"),l=document.getElementById("register-link");n&&n.addEventListener("click",r=>{r.preventDefault(),console.log("Mostrando formulario de recuperación de contraseña."),e.style.display="none",n.style.display="none",l&&(l.style.display="none"),o.style.display="block",console.log("reset-form computed display:",getComputedStyle(o).display)}),r&&r.addEventListener("click",r=>{r.preventDefault(),console.log("Volviendo al formulario de inicio de sesión."),o.style.display="none",e.style.display="block",n.style.display="inline-block",l&&(l.style.display="inline-block"),console.log("login-form computed display:",getComputedStyle(e).display)}),e&&e.addEventListener("submit",async e=>{e.preventDefault();let o=document.getElementById("email").value,n=document.getElementById("password").value;try{await (0,i.setPersistence)(t.auth,i.browserLocalPersistence),(await (0,i.signInWithEmailAndPassword)(t.auth,o,n)).user.emailVerified?(console.log("Usuario logueado y correo verificado, redirigiendo."),sessionStorage.setItem("hasRedirected","true"),window.location.href="/pages/home.html"):(console.log("Usuario logueado pero correo no verificado."),alert("Por favor, verifica tu dirección de correo electrónico antes de continuar."))}catch(o){console.error("Error al iniciar sesión:",o);let e="Error al iniciar sesión. Verifica tus credenciales.";"auth/wrong-password"===o.code?e="Contraseña incorrecta.":"auth/user-not-found"===o.code&&(e="Usuario no encontrado."),alert(e)}}),o&&o.addEventListener("submit",async r=>{r.preventDefault();let a=document.getElementById("reset-email").value;console.log("Enviando instrucciones de recuperación a: "+a);try{await (0,i.sendPasswordResetEmail)(t.auth,a),console.log("Instrucciones enviadas a "+a),alert("Se han enviado instrucciones a tu correo electrónico."),o.style.display="none",e.style.display="block",n.style.display="inline-block",l&&(l.style.display="inline-block")}catch(e){console.error("Error al enviar correo de recuperación:",e),alert("Hubo un error al enviar las instrucciones. Intenta de nuevo.")}})});
//# sourceMappingURL=FinTrack-main.9d669dae.js.map
